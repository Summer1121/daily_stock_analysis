# 提案: 增加实盘交易模块 (集成量化接口与模拟人工操作)

## 1. 背景

当前系统已具备完善的模拟交易与回测功能，但缺乏与真实券商对接的能力，限制了用户进行实盘交易。为了满足用户进行实际资产管理和策略验证的需求，本提案旨在引入实盘交易模块。

## 2. 目标

*   实现与真实券商的交易接口对接，支持量化交易（通过券商API）。
*   实现通过模拟人工操作（例如，自动化浏览器操作券商交易页面或第三方工具）进行实盘交易的能力，以应对部分券商量化接口认证门槛高的问题。
*   为两种实盘交易方式提供清晰的功能入口和用户体验。
*   扩展 `AbstractBroker` 接口，以适应真实交易的复杂性（例如订单状态回查、异常处理）。

## 3. 范围

*   **量化接口对接**: 调研并集成至少一种主流券商的量化交易API。
*   **模拟人工操作**: 调研并实现通过自动化浏览器或第三方交易工具（如同花顺、老虎证券等）进行交易操作。
*   **配置管理**: 增加实盘交易相关的配置项（券商选择、API密钥、模拟操作凭证等）。
*   **风险提示与安全**: 集成必要的风险提示，并确保模拟人工操作的安全性（如最小化凭证暴露、异常处理）。
*   **用户界面**: 在前端提供两种实盘交易方式的切换与配置入口。

## 4. 技术选型 (初步)

*   **量化接口**: 待调研具体券商API后确定。
*   **模拟人工操作**: 初步考虑使用 `Selenium` 或 `Playwright` 进行浏览器自动化，或调研是否有更专业的第三方工具SDK。

## 5. 预期成果

*   用户可以配置并连接到真实券商进行量化交易。
*   用户可以选择通过模拟人工操作的方式，在特定券商或第三方工具上执行交易。
*   系统能更全面地支持用户从策略开发、回测到实盘执行的整个流程。

## 6. 风险与挑战

*   **券商API接入难度**: 不同券商API差异大，接入复杂，认证流程严格。
*   **模拟人工操作稳定性**: 网页结构变化可能导致自动化失效，反爬机制可能导致封禁。
*   **法律合规性**: 模拟人工操作可能涉及券商服务条款，需谨慎评估。
*   **安全性**: 敏感交易凭证的存储和使用安全。
